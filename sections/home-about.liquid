{%- capture image_template -%}
  <div>
    <div class="image-with-text__media wow bounceInLeft
      image-with-text__media--{{ section.settings.desktop_layout }}
      {% unless section.settings.keep_image_ratio %} image-with-text__media--square{% endunless %}">

      {%- if section.settings.image != blank -%}
        <img srcset="{% if section.settings.image.width >= 311 %}{{ section.settings.image | img_url: '311x' }} 311w,{% endif %}
            {% if section.settings.image.width >= 622 %}{{ section.settings.image | img_url: '622x' }} 622w,{% endif %}
            {% if section.settings.image.width >= 503 %}{{ section.settings.image | img_url: '503x' }} 503w,{% endif %}
            {% if section.settings.image.width >= 1006 %}{{ section.settings.image | img_url: '1006x' }} 1006w,{% endif %}
            {% if section.settings.image.width >= 685 %}{{ section.settings.image | img_url: '685x' }} 685w,{% endif %}
            {% if section.settings.image.width >= 1370 %}{{ section.settings.image | img_url: '1370x' }} 1370w{% endif %}"
          sizes="(min-width: 1200px) calc((1200px - 19.5rem) / 2), (min-width: 750px) calc((100vw - 19.5rem) / 2), calc(100vw - 6.4rem)"
          src="{{ section.settings.image | img_url: '503x503' }}"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.height }}"
          loading="lazy"
          class="image-with-text__image{% if section.settings.keep_image_ratio %} image-with-text__image--auto{% endif %}"
          alt="{{ section.settings.image.alt | escape }}">
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg image-with-text__image' }}
      {%- endif -%}
    </div>
  </div>
{%- endcapture -%}

<section class="image-with-text image-with-text--{{ section.settings.secondary_background }}">
  <div class="image-with-text__inner_about">
    {%- if section.settings.desktop_layout == 'left' -%}{{ image_template }}{%- endif -%}

    <div class="image-with-text__content_about
      image-with-text__content--{{ section.settings.text_size }}
      {% if section.settings.enable_secondary_text_color %} image-with-text__content--secondary-text-color{% endif %}
      {% if section.settings.mobile_layout == 'top' %} image-with-text__content--mobile-image-top{% endif %}">

      {% if section.settings.title != blank %}
        <h2 class="image-with-text__heading wow bounceInRight" style="font-family: BarlowCondensed-Regular !important;">
          {{ section.settings.title | escape }}
        </h2>
      {% endif %}

      {% if section.settings.title2 != blank %}
        <h2 class="image-with-text__heading wow bounceInRight" style="margin-top: 0px">
          {{ section.settings.title2 | escape }}
        </h2>
      {% endif %}

      {% if section.settings.text != blank %}
        <div class="image-with-text__text rte wow bounceInRight">{{ section.settings.text }}</div>
      {% endif %}

      {% if section.settings.button_label != blank and section.settings.button_url != blank %}
        <a class="image-with-text__button button wow bounceInRight" href="{{ section.settings.button_url }}">
          {{ section.settings.button_label | escape }}
        </a>
      {% endif %}
    </div>

    {%- if section.settings.desktop_layout == 'right' -%}{{ image_template }}{%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": {
    "en": "About Section"
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": {
        "en": "Image"
      }
    },
    {
      "type": "text",
      "id": "title",
      "label": {
        "en": "Heading"
      },
      "default": {
        "en": "Image with text"
      }
    },
    {
      "type": "text",
      "id": "title2",
      "label": {
        "en": "Second Heading"
      },
      "default": {
        "en": "Second Heading"
      }
    },
    {
      "type": "richtext",
      "id": "text",
      "label": {
        "en": "Text"
      },
      "default": {
        "en": "<p>Pair large text with an image to give focus to your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>"
      }
    },
    {
      "type": "text",
      "id": "button_label",
      "label": {
        "en": "Button label"
      }
    },
    {
      "type": "url",
      "id": "button_url",
      "label": {
        "en": "Button link"
      }
    },
    {
      "type": "header",
      "content": {
        "en": "Layout options"
      }
    },
    {
      "type": "select",
      "id": "desktop_layout",
      "label": {
        "en": "Desktop"
      },
      "default": "right",
      "options": [
        {
          "value": "right",
          "label": {
            "en": "Text first"
          }
        },
        {
          "value": "left",
          "label": {
            "en": "Image first"
          }
        }
      ]
    },
    {
      "type": "select",
      "id": "mobile_layout",
      "label": {
        "en": "Mobile"
      },
      "default": "bottom",
      "options": [
        {
          "value": "bottom",
          "label": {
            "en": "Text first"
          }
        },
        {
          "value": "top",
          "label": {
            "en": "Image first"
          }
        }
      ]
    },
    {
      "type": "select",
      "id": "secondary_background",
      "label": {
        "en": "Secondary background"
      },
      "default": "partial_background",
      "options": [
        {
          "value": "partial_background",
          "label": {
            "en": "Partial"
          }
        },
        {
          "value": "full_background",
          "label": {
            "en": "Full"
          }
        },
        {
          "value": "no_background",
          "label": {
            "en": "None"
          }
        }
      ]
    },
    {
      "type": "select",
      "id": "text_size",
      "label": {
        "en": "Text size"
      },
      "default": "medium",
      "options": [
        {
          "value": "medium",
          "label": {
            "cs": "Střední",
            "da": "Medium",
            "de": "Mitte",
            "en": "Medium",
            "es": "Mediano",
            "fi": "Keskisuuri",
            "fr": "Moyenne",
            "hi": "मध्यम",
            "it": "Medium",
            "ja": "中",
            "ko": "보통",
            "nb": "Middels",
            "nl": "Gemiddeld",
            "pl": "Średni",
            "pt-BR": "Médio",
            "pt-PT": "Intermédio",
            "sv": "Medium",
            "th": "ปานกลาง",
            "tr": "Orta",
            "vi": "Trung bình",
            "zh-CN": "中等",
            "zh-TW": "中等"
          }
        },
        {
          "value": "large",
          "label": {
            "cs": "Velká",
            "da": "Stor",
            "de": "Groß",
            "en": "Large",
            "es": "Grande",
            "fi": "Suuri",
            "fr": "Grande",
            "hi": "बड़ा",
            "it": "Large",
            "ja": "大",
            "ko": "라지",
            "nb": "Stor",
            "nl": "Groot",
            "pl": "Duży",
            "pt-BR": "Grande",
            "pt-PT": "Grande",
            "sv": "Stor",
            "th": "ใหญ่",
            "tr": "Large",
            "vi": "Lớn",
            "zh-CN": "大",
            "zh-TW": "大型"
          }
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "keep_image_ratio",
      "label": {
        "cs": "Zachovat poměr obrázku",
        "da": "Bevar billedforhold",
        "de": "Bildverhältnis beibehalten",
        "en": "Keep image ratio",
        "es": "Mantener relación de aspecto de la imagen",
        "fi": "Säilytä kuvasuhde",
        "fr": "Conserver le rapport d'aspect de l'image",
        "hi": "इमेज अनुपात रखें",
        "it": "Mantieni proporzioni dell'immagine",
        "ja": "画像比を維持する",
        "ko": "이미지 비율 유지",
        "nb": "Behold bildeforholdet",
        "nl": "Afbeeldingsverhouding behouden",
        "pl": "Zachowaj proporcje obrazu",
        "pt-BR": "Manter proporção da imagem",
        "pt-PT": "Manter proporções de imagem",
        "sv": "Behåll bildförhållanden",
        "th": "รักษาอัตราส่วนรูปภาพ",
        "tr": "Görsel oranını koru",
        "vi": "Giữ tỷ lệ hình ảnh",
        "zh-CN": "保持图片比",
        "zh-TW": "保留圖片比例"
      },
      "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_secondary_text_color",
      "label": {
        "cs": "Povolit barvu sekundárního textu",
        "da": "Aktivér sekundær tekstfarve",
        "de": "Sekundäre Textfarbe aktivieren",
        "en": "Enable secondary text color",
        "es": "Habilitar color de texto secundario",
        "fi": "Ota käyttöön toissijainen taustatekstiväri",
        "fr": "Activer la couleur du texte secondaire",
        "hi": "द्वितीय टेक्स्ट रंग सक्षम करें",
        "it": "Abilita colore del testo secondario",
        "ja": "二次テキストの配色を有効にする",
        "ko": "보조 텍스트 색상 활성화",
        "nb": "Aktiver sekundær tekstfarge",
        "nl": "Secundaire tekstkleur inschakelen",
        "pl": "Włącz kolor tekstu dodatkowego",
        "pt-BR": "Habilitar cor do texto secundário",
        "pt-PT": "Ativar cor do texto secundário",
        "sv": "Aktivera sekundär textfärg",
        "th": "เปิดใช้งานสีตัวอักษรรอง",
        "tr": "İkincil metin rengini etkinleştir",
        "vi": "Bật màu chữ thứ cấp",
        "zh-CN": "启用辅助文本颜色",
        "zh-TW": "啟用輔助文字顏色"
      },
      "default": false
    }
  ],
  "presets": [
    {
      "name": {
        "en": "About Section"
      },
      "category": {
        "cs": "Obrázek",
        "da": "Billede",
        "de": "Bild",
        "en": "Image",
        "es": "Imagen",
        "fi": "Kuva",
        "fr": "Image",
        "hi": "इमेज",
        "it": "Immagine",
        "ja": "画像",
        "ko": "이미지",
        "nb": "Bilde",
        "nl": "Afbeelding",
        "pl": "Obraz",
        "pt-BR": "Imagem",
        "pt-PT": "Imagem",
        "sv": "Bild",
        "th": "รูปภาพ",
        "tr": "Görsel",
        "vi": "Hình ảnh",
        "zh-CN": "图片",
        "zh-TW": "圖片"
      }
    }
  ]
}
{% endschema %}
